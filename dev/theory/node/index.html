<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Belief updates in the HGF: Computations of nodes · HierarchicalGaussianFiltering.jl</title><script data-outdated-warner src="../../assets/warner.js"></script><link rel="canonical" href="https://ilabcode.github.io/HierarchicalGaussianFiltering.jl/theory/node/"/><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.045/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.24/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../../">HierarchicalGaussianFiltering.jl</a></span></div><form class="docs-search" action="../../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../../">Introduction to Hierarchical Gaussian Filtering</a></li><li><span class="tocitem">Using the package</span><ul><li><a class="tocitem" href="../../generated_markdowns/the_HGF_nodes/">The HGF Nodes</a></li><li><a class="tocitem" href="../../generated_markdowns/building_an_HGF/">Building an HGF</a></li><li><a class="tocitem" href="../../generated_markdowns/updating_the_HGF/">Updating the HGF</a></li><li><a class="tocitem" href="../../generated_markdowns/premade_models/">List Of Premade Agent Models</a></li><li><a class="tocitem" href="../../generated_markdowns/premade_HGF/">List Of Premade HGF&#39;s</a></li><li><a class="tocitem" href="../../generated_markdowns/fitting_hgf_models/">Fitting an HGF-agent model to data</a></li><li><a class="tocitem" href="../../generated_markdowns/utility_functions/">Utility Functions</a></li></ul></li><li><span class="tocitem">Tutorials</span><ul><li><a class="tocitem" href="../../generated_markdowns/classic_binary/">classic binary</a></li><li><a class="tocitem" href="../../generated_markdowns/classic_usdchf/">classic continouous</a></li></ul></li><li><a class="tocitem" href="../../generated_markdowns/all_functions/">All Functions</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Belief updates in the HGF: Computations of nodes</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Belief updates in the HGF: Computations of nodes</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/ilabcode/HierarchicalGaussianFiltering.jl/blob/main/docs/src/theory/node.md#" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="Belief-updates-in-the-HGF:-Computations-of-nodes"><a class="docs-heading-anchor" href="#Belief-updates-in-the-HGF:-Computations-of-nodes">Belief updates in the HGF: Computations of nodes</a><a id="Belief-updates-in-the-HGF:-Computations-of-nodes-1"></a><a class="docs-heading-anchor-permalink" href="#Belief-updates-in-the-HGF:-Computations-of-nodes" title="Permalink"></a></h1><p>In the approximate inversion of the generative model presented above, (Mathys, 2011) derived a set of simple, one-step update equations that represent changes in beliefs about the hidden states specified in the generative model. For each state, a belief is held (and updated for every new input) by the agent and described as a Gaussian distribution, fully characterized by its mean <span>$\mu_i^{(k)}$</span> and its inverse variance, or precision, <span>$\pi_i^{(k)}$</span> on a given trial <span>$k$</span>. We conceptualize each belief as a node in a network, where belief updates involve computations within nodes as well as message passing between nodes. The computations of any node within an experimental trial can be ordered in time as shown in the box:</p><p class="math-container">\[ Node *i* at trial *k*

(compute \mathrm{prediction}^{(k)}_i)  
&amp;larr; receive \mathrm{PE}^{(k)}_{i-1} from \mathrm{node}_{i-1}  \\

UPDATE step  
compute $\mathrm{posterior}^{(k)}_i$    \\
*given:* $\mathrm{PE}^{(k)}_{i-1}$ and $\mathrm{prediction}^{(k)}_i$   \\
&amp;rarr; send $\mathrm{posterior}^{(k)}_i$ to $\mathrm{node}_{i-1}$ \\

PE step  
compute $\mathrm{PE}^{(k)}_i$   \\
*given:* $\mathrm{prediction}^{(k)}_i$ and $\mathrm{posterior}^{(k)}_i$   \\
&amp;rarr; send $\mathrm{PE}^{(k)}_i$ to $\mathrm{node}_{i+1}$   \\
&amp;larr; receive $\mathrm{posterior}^{(k)}_{i+1}$ from $\mathrm{node}_{i+1}$   \\

PREDICTION step  
compute $\mathrm{prediction}^{(k+1)}_i$  
*given:* $\mathrm{posterior}^{(k)}_i$ and $\mathrm{posterior}^{(k)}_{i+1}$  \]</p><p>The exact computations in each step depend on the nature of the coupling (via <strong>VAPE</strong>s vs. <strong>VOPE</strong>s) with the parent and children nodes and will be outlined in the following two chapters.</p><p>Note that we have placed the <strong>PREDICTION</strong> step in the end of a trial. This is because usually, we think about the beginning of a trial as starting with receiving a new input, and of a prediction as being present before that input is received. However, in some variants of the HGF the prediction also depends on the time that has passed in between trials, which is something that can only be evaluated once the new input arrives - hence the additional computation of the (current) prediction in the beginning of the trial. Conceptually, it makes most sense to think of the prediction as happening continuously between trials. For implementational purposes, it is however most convenient to only compute the prediction once the new input (and with it its arrival time) enters. This ensures both that the posterior means of parent nodes have had enough time to be sent back to their children for preparation for the new input, and that the arrival time of the new input can be taken into account appropriately.</p></article><nav class="docs-footer"><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.24 on <span class="colophon-date" title="Sunday 30 April 2023 10:52">Sunday 30 April 2023</span>. Using Julia version 1.8.5.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
